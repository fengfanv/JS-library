# tcp三次握手（在传输数据前，客户端与服务器端，建立通信通道的过程）

tcp是稳定可靠的传送方式，在接收和发送数据之前，双方需要建立一个虚拟通信通道，建立通道的过程称为3次握手。

三次握手的流程是：

i.当客户端调用tcp_client_socket.connect时，客户端系统会向服务器发送一个SYN包，请求建立连接。这个包里包含有一个初始的(序列号/数字)。

ii.当服务器收到SYN包后，会向客户端回复一个SYN-ACK包，这个包里包含有对客户端SYN包的确认信息（ACK），以及服务器自己的初始(序列号/数字)。

iii.当客户端收到SYN-ACK包后，会向服务器发送一个ACK包，这个包里包含有对服务器SYN-ACK包的确认信息。

# tcp四次挥手（传输数据完毕后，客户端与服务器端，关闭通信通道的过程）

i.当客户端调用tcp_client_socket.close时，客户端系统会向服务器发送一个FIN包，请求关闭连接。

ii.当服务器收到FIN包后，会向客户端发送一个ACK包，确认收到客户端的关闭请求。此时，服务器进入关闭等待状态，客户端进入FIN-WAIT-2状态。

iii.当服务器完成所有数据的发送后，它会向客户端发送一个FIN包，请求关闭连接。

iiii.当客户端收到服务器的FIN包后，会向服务器发送一个ACK包，确认收到服务器的关闭请求。此时，客户端和服务器都进入了CLOSED状态，(连接/通道)关闭。